<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رابط کاربری کنترل ربات</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main-container">
        <div class="media-column">
            <div id="video-container" class="panel">
                <div class="panel-header">دوربین ربات</div>
                <img id="video-stream" src="placeholder.jpg" alt="جایگاه تصویر دوربین ربات">
            </div>
            <div id="map-container" class="panel">
                <div class="panel-header">موقعیت GPS</div>
                <div id="map"></div>
            </div>
        </div>

        <div class="control-column">
            <div id="controls-container" class="panel">
                <div class="panel-header">کنترل حرکت</div>
                <div class="d-pad">
                    <button id="btn-forward" title="جلو">▲</button>
                    <button id="btn-left" title="چپ">◀</button>
                    <button id="btn-stop" title="توقف">■</button>
                    <button id="btn-right" title="راست">▶</button>
                    <button id="btn-backward" title="عقب">▼</button>
                </div>
                <hr class="separator">
                <div class="panel-header">دوربین اپراتور</div>
                <button id="btn-local-camera">فعال‌سازی دوربین محلی</button>
                <video id="local-video-preview" autoplay playsinline muted></video>
            </div>
            <div id="status-container" class="panel">
                <div class="panel-header">وضعیت سیستم</div>
                <div class="status-item">
                    <span class="status-indicator offline" id="connection-indicator"></span>
                    <p>اتصال سرور: <span id="connection-status">قطع</span></p>
                </div>
                 <div class="status-item">
                    <span class="status-indicator offline" id="gps-indicator"></span>
                    <p>GPS: <span id="gps-status">در حال جستجو...</span></p>
                </div>
                 <div class="status-item">
                    <span class="status-indicator offline" id="distance-indicator"></span>
                    <p>فاصله: <span id="distance-status">N/A</span> cm</p>
                </div>
            </div>
        </div>
    </div>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script src="main.js"></script>
</body>
</html>